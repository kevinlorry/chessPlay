webpackJsonp([1],{NHnr:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("7+uW"),i={render:function(){var s=this.$createElement,e=this._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=t("VU/8")({name:"App"},i,!1,function(s){t("zLj7")},null,null).exports,l=t("/ocq"),n=[{message:"车",ifshow:!0,notClick:!1},{message:"马",ifshow:!0,notClick:!1},{message:"象",ifshow:!0,notClick:!1},{message:"仕",ifshow:!0,notClick:!1},{message:"将",ifshow:!0,notClick:!1},{message:"炮",ifshow:!0,notClick:!1},{message:"卒",ifshow:!0,notClick:!1}],a=[{message:"車",ifshow:!0,notClick:!1},{message:"馬",ifshow:!0,notClick:!1},{message:"相",ifshow:!0,notClick:!1},{message:"士",ifshow:!0,notClick:!1},{message:"帅",ifshow:!0,notClick:!1},{message:"炮",ifshow:!0,notClick:!1},{message:"兵",ifshow:!0,notClick:!1}],h=[{message:"1",ifshow:!0,notClick:!1},{message:"2",ifshow:!0,notClick:!1},{message:"3",ifshow:!0,notClick:!1},{message:"4",ifshow:!0,notClick:!1},{message:"5",ifshow:!0,notClick:!1},{message:"6",ifshow:!0,notClick:!1},{message:"7",ifshow:!0,notClick:!1},{message:"8",ifshow:!0,notClick:!1},{message:"9",ifshow:!0,notClick:!1}],r=[{message:"九",ifshow:!0,notClick:!1},{message:"八",ifshow:!0,notClick:!1},{message:"七",ifshow:!0,notClick:!1},{message:"六",ifshow:!0,notClick:!1},{message:"五",ifshow:!0,notClick:!1},{message:"四",ifshow:!0,notClick:!1},{message:"三",ifshow:!0,notClick:!1},{message:"二",ifshow:!0,notClick:!1},{message:"一",ifshow:!0,notClick:!1}],m=[{message:"一",ifshow:!0,notClick:!1},{message:"二",ifshow:!0,notClick:!1},{message:"三",ifshow:!0,notClick:!1},{message:"四",ifshow:!0,notClick:!1},{message:"五",ifshow:!0,notClick:!1},{message:"六",ifshow:!0,notClick:!1},{message:"七",ifshow:!0,notClick:!1},{message:"八",ifshow:!0,notClick:!1},{message:"九",ifshow:!0,notClick:!1}],y={name:"chess",data:function(){return{ifstart:!1,move:"move",dingItem:[{color:"black",message:"黑子先"},{color:"red",message:"红子先"}],topItems:[{message:"1"},{message:"2"},{message:"3"},{message:"4"},{message:"5"},{message:"6"},{message:"7"},{message:"8"},{message:"9"}],bottomItems:[{message:"九"},{message:"八"},{message:"七"},{message:"六"},{message:"五"},{message:"四"},{message:"三"},{message:"二"},{message:"一"}],selectItems:[{message:"1",ifshow:!0,notClick:!1},{message:"2",ifshow:!0,notClick:!1},{message:"3",ifshow:!0,notClick:!1},{message:"4",ifshow:!0,notClick:!1},{message:"5",ifshow:!0,notClick:!1},{message:"6",ifshow:!0,notClick:!1},{message:"7",ifshow:!0,notClick:!1},{message:"8",ifshow:!0,notClick:!1},{message:"9",ifshow:!0,notClick:!1}],backItems:[{message:"撤销",num:1,notClick:!1,left:450,top:250},{message:"悔棋",num:2,notClick:!1,left:450,top:300}],chess:{blackItem:[{message:"车",pos:[{x:0,y:0,active:!0}]},{message:"马",pos:[{x:1,y:0,active:!0}]},{message:"象",pos:[{x:2,y:0,active:!0}]},{message:"仕",pos:[{x:3,y:0,active:!0}]},{message:"将",pos:[{x:4,y:0,active:!0}]},{message:"仕",pos:[{x:5,y:0,active:!0}]},{message:"象",pos:[{x:6,y:0,active:!0}]},{message:"马",pos:[{x:7,y:0,active:!0}]},{message:"车",pos:[{x:8,y:0,active:!0}]},{message:"炮",pos:[{x:1,y:2,active:!0}]},{message:"炮",pos:[{x:7,y:2,active:!0}]},{message:"卒",pos:[{x:0,y:3,active:!0}]},{message:"卒",pos:[{x:2,y:3,active:!0}]},{message:"卒",pos:[{x:4,y:3,active:!0}]},{message:"卒",pos:[{x:6,y:3,active:!0}]},{message:"卒",pos:[{x:8,y:3,active:!0}]}],redItem:[{message:"車",pos:[{x:0,y:9,active:!0}]},{message:"馬",pos:[{x:1,y:9,active:!0}]},{message:"相",pos:[{x:2,y:9,active:!0}]},{message:"士",pos:[{x:3,y:9,active:!0}]},{message:"帅",pos:[{x:4,y:9,active:!0}]},{message:"士",pos:[{x:5,y:9,active:!0}]},{message:"相",pos:[{x:6,y:9,active:!0}]},{message:"馬",pos:[{x:7,y:9,active:!0}]},{message:"車",pos:[{x:8,y:9,active:!0}]},{message:"炮",pos:[{x:1,y:7,active:!0}]},{message:"炮",pos:[{x:7,y:7,active:!0}]},{message:"兵",pos:[{x:0,y:6,active:!0}]},{message:"兵",pos:[{x:2,y:6,active:!0}]},{message:"兵",pos:[{x:4,y:6,active:!0}]},{message:"兵",pos:[{x:6,y:6,active:!0}]},{message:"兵",pos:[{x:8,y:6,active:!0}]}]},chaXunX:{1:0,"九":0,2:1,"八":1,3:2,"七":2,4:3,"六":3,5:4,"五":4,6:5,"四":5,7:6,"三":6,8:7,"二":7,9:8,"一":8,"前":0,"后":1,"平":2},chaXunY:{1:1,"一":1,2:2,"二":2,3:3,"三":3,4:4,"四":4,5:5,"五":5,6:6,"六":6,7:7,"七":7,8:8,"八":8,9:9,"九":9,"进":0,"退":1,"平":2},message:["黑子走","红子走"],step:0,clickNum:0,record:[],chessIndex:-1}},methods:{ding:function(s){this.backRecord=[],0==s?(this.dingStep=0,this.resetStep(),this.changeIfstart(),this.rule("black","",0),this.clickNum++):(this.addStep(),this.changeIfstart(),this.rule("red","",0),this.clickNum++,this.dingStep=1),this.backItems=[{message:"撤销",num:1,notClick:!0,left:450,top:250},{message:"悔棋",num:2,notClick:!0,left:450,top:300}]},select:function(s,e){if(!e){var t=void 0;t=this.step%2==0?"black":"red",this.record.push(s),4==this.clickNum?(this.action(t,this.record),this.backItems=[{message:"撤销",num:1,notClick:!0,left:450,top:250},{message:"悔棋",num:2,notClick:!1,left:450,top:300}]):this.backItems=[{message:"撤销",num:1,notClick:!1,left:450,top:250},{message:"悔棋",num:2,notClick:!0,left:450,top:300}],4==this.clickNum&&(this.clickNum=0,this.record=[],this.pos=[],this.posesFilter=[],this.addStep(),this.chessIndex=-1),t=this.step%2==0?"black":"red",this.color=t,this.rule(t,s,this.clickNum),this.clickNum++}},back:function(s,e){if(!e){if(2==s){this.clickNum=0,this.record=[],this.pos=[],this.posesFilter=[],this.chessIndex=-1,console.log(this.chess);var t=this.backRecord.pop();console.log(t);var o=this.chess[t.color+"Item"][t.index].pos.pop();if(console.log(o),console.log(this.chess[t.color+"Item"][t.index].pos),t.chiIndex>=0){var i="black"==t.color?"red":"black";this.chess[i+"Item"][t.index].pos.pop()}if(this.step>this.dingStep){this.step--;var c=void 0;c=this.step%2==0?"black":"red",this.rule(c,"",0),this.clickNum++}}else this.clickNum=0,this.record=[],this.pos=[],this.posesFilter=[],this.chessIndex=-1,this.rule(this.color,"",0),this.clickNum++;this.step==this.dingStep?this.backItems=[{message:"撤销",num:1,notClick:!0,left:450,top:250},{message:"悔棋",num:2,notClick:!0,left:450,top:300}]:this.backItems=[{message:"撤销",num:1,notClick:!0,left:450,top:250},{message:"悔棋",num:2,notClick:!1,left:450,top:300}]}},resetStep:function(){this.step=0},addStep:function(){this.step++},resetIfstart:function(){this.ifstart=!1},changeIfstart:function(){this.ifstart=!0},changeClick:function(){4==this.clickNum?this.clickNum=0:this.clickNum++},rule:function(s,e,t){var o=this;if(0==t){var i=this.getAllChessNameByColor(s);this.filterChessTwoInY(s).length>0?this.step1(s,1,i):this.step1(s,0,i)}else if(1==t)if("前"==e||"后"==e){var c=this.filterChessTwoInY(s);this.step2(s,1,c)}else{var l=this.getChessesByName(s,e),n=[];console.log("data!=前|后",s,e,t,l),l.forEach(function(e){n.push(o.chess[s+"Item"][e].pos[o.chess[s+"Item"][e].pos.length-1].x)}),console.log("message-339",n),this.step2(s,0,n)}else 2==t?(this.chessIndex=this.getChessIndexByRecord(s,this.record),this.step3(s,this.chessIndex)):3==t&&this.step4(s,e)},step1:function(s,e,t){this.selectItems="black"==s?n:a,this.selectItems.forEach(function(s){~t.indexOf(s.message)||(s.notClick=!0)}),e&&(this.selectItems=[{message:"前",ifshow:!0,notClick:!1},{message:"后",ifshow:!0,notClick:!1}].concat(this.selectItems))},step2:function(s,e,t){e?(this.selectItems="black"==s?n:a,this.selectItems.forEach(function(s){~t.indexOf(s.message)||(console.log("step2-true-373",s.notClick),s.notClick=!0)})):(this.selectItems="black"==s?h:r,this.selectItems.forEach(function(s,e){s.notClick=!~t.indexOf(e)}))},step3:function(s,e){var t=this.chess[s+"Item"][e].message,o=this,i=this.chess[s+"Item"][e].pos[this.chess[s+"Item"][e].pos.length-1];if(o.pos={x:i.x,y:i.y,active:!0},"象"==t||"相"==t||"士"==t||"仕"==t||"马"==t||"馬"==t){var c=[{message:"进",ifshow:!0,notClick:!0},{message:"退",ifshow:!0,notClick:!0}];if("象"==t||"相"==t){var l=[{x:i.x-2,y:i.y-2},{x:i.x+2,y:i.y+2},{x:i.x+2,y:i.y-2},{x:i.x-2,y:i.y+2}];if(o.posesFilter=[],o.posesFilter="black"==s?l.filter(function(e){return e.x>=0&&e.x<=8&&e.y>=0&&e.y<=4&&o.getChessItemByPos(s,e.x,e.y)<0&&o.getChessItemByPos(s,(e.x+i.x)/2,(e.y+i.y)/2)<0}):l.filter(function(e){return e.x>=0&&e.x<=8&&e.y>=5&&e.y<=9&&o.getChessItemByPos(s,e.x,e.y)<0&&o.getChessItemByPos(s,(e.x+i.x)/2,(e.y+i.y)/2)<0}),console.log(o.posesFilter),"black"==s)for(var n=0;n<o.posesFilter.length;n++)o.posesFilter[n].y>i.y?c[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[n].y<i.y&&(c[1]={message:"退",ifshow:!0,notClick:!1});else for(var a=0;a<o.posesFilter.length;a++)o.posesFilter[a].y<i.y?c[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[a].y<i.y&&(c[1]={message:"退",ifshow:!0,notClick:!1});this.selectItems=c}else if("马"==t||"馬"==t){var h=[{x:i.x-2,y:i.y-1},{x:i.x-2,y:i.y+1},{x:i.x+2,y:i.y+1},{x:i.x+2,y:i.y-1},{x:i.x+1,y:i.y-2},{x:i.x+1,y:i.y+2},{x:i.x-1,y:i.y+2},{x:i.x-1,y:i.y-2}];if(o.posesFilter=[],o.posesFilter="black"==s?h.filter(function(e){var t=0;t=e.x-i.x>0?1:-1;var c=0;return c=e.y-i.y>0?1:-1,e.x>=0&&e.x<=8&&e.y>=0&&e.y<=4&&o.getChessItemByPos(s,e.x,e.y)<0&&o.getChessItemByPos(s,e.x-t,e.y-c)<0}):h.filter(function(e){var t=0;t=e.x-i.x>0?1:-1;var c=0;return c=e.y-i.y>0?1:-1,e.x>=0&&e.x<=8&&e.y>=5&&e.y<=9&&o.getChessItemByPos(s,e.x,e.y)<0&&o.getChessItemByPos(s,e.x-t,e.y-c)<0}),"black"==s)for(var r=0;r<o.posesFilter.length;r++)o.posesFilter[r].y>i.y?c[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[r].y<i.y&&(c[1]={message:"退",ifshow:!0,notClick:!1});else for(var m=0;m<o.posesFilter.length;m++)o.posesFilter[m].y<i.y?c[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[m].y<i.y&&(c[1]={message:"退",ifshow:!0,notClick:!1});this.selectItems=c}else if("士"==t||"仕"==t){var y=[{x:i.x-1,y:i.y-1},{x:i.x+1,y:i.y+1},{x:i.x+1,y:i.y-1},{x:i.x-1,y:i.y+1}];if(o.posesFilter=[],o.posesFilter="black"==s?y.filter(function(e){return e.x>=3&&e.x<=5&&e.y>=0&&e.y<=2&&o.getChessItemByPos(s,e.x,e.y)<0}):y.filter(function(e){return e.x>=3&&e.x<=5&&e.y>=7&&e.y<=9&&o.getChessItemByPos(s,e.x,e.y)<0}),"black"==s)for(var g=0;g<o.posesFilter.length;g++)o.posesFilter[g].y>i.y?c[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[g].y<i.y&&(c[1]={message:"退",ifshow:!0,notClick:!1});else for(var f=0;f<o.posesFilter.length;f++)o.posesFilter[f].y<i.y?c[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[f].y<i.y&&(c[1]={message:"退",ifshow:!0,notClick:!1});this.selectItems=c}}else if("兵"==t||"卒"==t){var p=void 0,x=void 0;if("black"==s?i.y>=5?(p=[{message:"进",ifshow:!0,notClick:!0},{message:"平",ifshow:!0,notClick:!0}],x=[{x:i.x,y:i.y+1},{x:i.x+1,y:i.y},{x:i.x-1,y:i.y}]):(p=[{message:"进",ifshow:!0,notClick:!0}],x=[{x:i.x,y:i.y+1}]):i.y<=4?(p=[{message:"进",ifshow:!0,notClick:!0},{message:"平",ifshow:!0,notClick:!0}],x=[{x:i.x,y:i.y-1},{x:i.x+1,y:i.y},{x:i.x-1,y:i.y}]):(p=[{message:"进",ifshow:!0,notClick:!0}],x=[{x:i.x,y:i.y-1}]),o.posesFilter=[],o.posesFilter=x.filter(function(e){return e.x>=0&&e.x<=8&&e.y>=0&&e.y<=9&&o.getChessItemByPos(s,e.x,e.y)<0}),"black"==s)for(var u=0;u<o.posesFilter.length;u++)o.posesFilter[u].y>i.y?p[0]={message:"进",ifshow:!0,notClick:!1}:(o.posesFilter[u].y=i.y)&&(p[1]={message:"平",ifshow:!0,notClick:!1});else for(var k=0;k<o.posesFilter.length;k++)o.posesFilter[k].y<i.y?p[0]={message:"进",ifshow:!0,notClick:!1}:(o.posesFilter[k].y=i.y)&&(p[1]={message:"平",ifshow:!0,notClick:!1});this.selectItems=p}else{var C=[{message:"进",ifshow:!0,notClick:!0},{message:"平",ifshow:!0,notClick:!0},{message:"退",ifshow:!0,notClick:!0}];if("车"==t||"車"==t){for(var v=[],I=i.x-1;I>=0&&o.getChessItemByPos(s,I,i.y)<0;I--){if(o.getOtherSideChessItemByPos(s,I,i.y)>=0){v.push({x:I,y:i.y});break}v.push({x:I,y:i.y})}for(var w=i.x+1;w<=8&&o.getChessItemByPos(s,w,i.y)<0;w++){if(o.getOtherSideChessItemByPos(s,w,i.y)>=0){v.push({x:w,y:i.y});break}v.push({x:w,y:i.y})}for(var d=i.y-1;d>=0&&o.getChessItemByPos(s,i.x,d)<0;d--){if(o.getOtherSideChessItemByPos(s,i.x,d)>=0){v.push({x:d,y:i.y});break}v.push({x:i.x,y:d})}for(var F=i.y+1;F<=9&&o.getChessItemByPos(s,i.x,F)<0;F++){if(o.getOtherSideChessItemByPos(s,i.x,F)>=0){v.push({x:F,y:i.y});break}v.push({x:i.x,y:F})}if(o.posesFilter=v,console.log("車",o.posesFilter),"black"==s)for(var b=0;b<o.posesFilter.length;b++)o.posesFilter[b].y>i.y?C[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[b].y==i.y?C[1]={message:"平",ifshow:!0,notClick:!1}:C[2]={message:"退",ifshow:!0,notClick:!1};else for(var B=0;B<o.posesFilter.length;B++)o.posesFilter[B].y<i.y?C[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[B].y==i.y?C[1]={message:"平",ifshow:!0,notClick:!1}:C[2]={message:"退",ifshow:!0,notClick:!1};this.selectItems=C}else if("炮"==t){var P=[];console.log("炮",i);for(var _=i.x-1;_>=0&&o.getChessItemAllColorByPos(_,i.y)<0;_--)console.log(1,{x:_,y:i.y}),P.push({x:_,y:i.y});for(var E=i.x+1;E<=8&&o.getChessItemAllColorByPos(E,i.y)<0;E++)console.log(2,{x:E,y:i.y}),P.push({x:E,y:i.y});for(var N=i.y-1;N>=0&&o.getChessItemAllColorByPos(i.x,N)<0;N--)console.log(3,{x:i.x,y:N}),P.push({x:i.x,y:N});for(var O=i.y+1;O<=9&&o.getChessItemAllColorByPos(i.x,O)<0;O++)console.log(4,{x:i.x,y:O}),P.push({x:i.x,y:O});var S=o.getPaoChiPos(s,i.x,i.y);if(console.log("paoPoses",S),o.posesFilter=P.concat(S),console.log(o.posesFilter,i.y),"black"==s)for(var X=0;X<o.posesFilter.length;X++)o.posesFilter[X].y>i.y?C[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[X].y==i.y?C[1]={message:"平",ifshow:!0,notClick:!1}:C[2]={message:"退",ifshow:!0,notClick:!1};else for(var A=0;A<o.posesFilter.length;A++)o.posesFilter[A].y<i.y?C[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[A].y==i.y?C[1]={message:"平",ifshow:!0,notClick:!1}:C[2]={message:"退",ifshow:!0,notClick:!1};this.selectItems=C}else{var Y=[{message:"进",ifshow:!0,notClick:!0},{message:"平",ifshow:!0,notClick:!0},{message:"退",ifshow:!0,notClick:!0}],R=[{x:i.x,y:i.y-1},{x:i.x,y:i.y+1},{x:i.x+1,y:i.y},{x:i.x-1,y:i.y}];if(o.posesFilter=[],o.posesFilter="black"==s?R.filter(function(e){return e.x>=3&&e.x<=5&&e.y>=0&&e.y<=2&&o.getChessItemByPos(s,e.x,e.y)<0}):R.filter(function(e){return e.x>=3&&e.x<=5&&e.y>=7&&e.y<=9&&o.getChessItemByPos(s,e.x,e.y)<0}),"black"==s)for(var H=0;H<o.posesFilter.length;H++)o.posesFilter[H].y>i.y?Y[0]={message:"进",ifshow:!0,notClick:!1}:o.posesFilter[H].y<i.y?Y[1]={message:"平",ifshow:!0,notClick:!1}:o.posesFilter[H].y<i.y&&(Y[2]={message:"退",ifshow:!0,notClick:!1});else for(var Q=0;Q<o.posesFilter.length;Q++)o.posesFilter[Q].y>i.y?Y[2]={message:"退",ifshow:!0,notClick:!1}:o.posesFilter[Q].y==i.y?Y[1]={message:"平",ifshow:!0,notClick:!1}:o.posesFilter[Q].y<i.y&&(Y[0]={message:"进",ifshow:!0,notClick:!1});this.selectItems=Y}}},step4:function(s,e){var t=this,o=[],i=this.chess[s+"Item"][this.chessIndex].message;"象"==i||"相"==i||"士"==i||"仕"==i||"马"==i||"馬"==i?"进"==e?("black"==s?t.posesFilter.forEach(function(s){s.y>t.pos.y&&o.push(s.x)}):t.posesFilter.forEach(function(s){s.y<t.pos.y&&o.push(s.x)}),this.selectItems="black"==s?h:r,this.selectItems.forEach(function(s){s.notClick=!~o.indexOf(t.chaXunX[s.message])})):("black"==s?t.posesFilter.forEach(function(s){s.y<t.pos.y&&o.push(s.x)}):t.posesFilter=forEach(function(s){s.y>t.pos.y&&o.push(s.x)}),this.selectItems="black"==s?h:r,this.selectItems.forEach(function(s){s.notClick=!~o.indexOf(t.chaXunX[s.message])})):"进"==e?("black"==s?t.posesFilter.forEach(function(s){s.y>t.pos.y&&o.push(s.y-t.pos.y)}):t.posesFilter.forEach(function(s){s.y<t.pos.y&&o.push(t.pos.y-s.y)}),this.selectItems="black"==s?h:m,this.selectItems.forEach(function(s){s.notClick=!~o.indexOf(t.chaXunY[s.message])}),console.log("step4",h)):"平"==e?(t.posesFilter.forEach(function(s){console.log(s.y,t.pos.y),s.y==t.pos.y&&o.push(s.x)}),console.log(o),this.selectItems="black"==s?h:r,this.selectItems.forEach(function(s){s.notClick=!~o.indexOf(t.chaXunX[s.message])})):("black"==s?t.posesFilter.forEach(function(s){s.y<t.pos.y&&o.push(t.pos.y-s.y)}):t.posesFilter.forEach(function(s){s.y>t.pos.y&&o.push(s.y-t.pos.y)}),this.selectItems="black"==s?h:m,this.selectItems.forEach(function(s){s.notClick=!~o.indexOf(t.chaXunY[s.message])}))},action:function(s,e){var t=this,o=this.chess[s+"Item"][this.chessIndex].message,i=this.pos;console.log(i);var c=[],l=void 0;if("象"==o||"相"==o||"士"==o||"仕"==o||"马"==o||"馬"==o){if(c=t.posesFilter.filter(function(s){return s.x==t.chaXunX[e[3]]}),(l=t.getOtherSideChessItemByPos(s,c[0].x,c[0].y))>=0){var n="black"==s?"red":"black",a=t.chess[n+"Item"][l].pos;t.chess[n+"Item"][l].pos.push({x:a.x,y:a.y,active:!1})}this.chess[s+"Item"][t.chessIndex].pos.push({x:c[0].x,y:c[0].y,active:!0})}else if("进"==e[2]||"退"==e[2]){var h=this.chaXunY[e[2]];console.log(h);var r="black"==s?1:-1;if(i.y=i.y+(h?-1:1)*this.chaXunY[e[3]]*r,console.log(i.y),(l=t.getOtherSideChessItemByPos(s,i.x,i.y))>=0){var m="black"==s?"red":"black",y=t.chess[m+"Item"][l].pos;t.chess[m+"Item"][l].pos.push({x:y.x,y:y.y,active:!1})}this.chess[s+"Item"][t.chessIndex].pos.push(i)}else{if(i.x=this.chaXunX[e[3]],(l=t.getOtherSideChessItemByPos(s,i.x,i.y))>=0){var g="black"==s?"red":"black",f=t.chess[g+"Item"][l].pos;t.chess[g+"Item"][l].pos.push({x:f.x,y:f.y,active:!1})}this.chess[s+"Item"][t.chessIndex].pos.push(i)}this.backRecord.push({color:s,index:t.chessIndex,chiIndex:l})},getChessesByName:function(s,e){var t=[];return this.chess[s+"Item"].forEach(function(s,o){s.message==e&&s.pos[s.pos.length-1].active&&t.push(o)}),t},getChessByNameX:function(s,e,t){var o=-1;return this.chess[s+"Item"].forEach(function(s,i){s.message==e&&s.pos[s.pos.length-1].active&&s.pos[s.pos.length-1].x==t&&(o=i)}),o},getChessItemByPos:function(s,e,t){var o=-1;return this.chess[s+"Item"].forEach(function(s,i){s.pos[s.pos.length-1].x==e&&s.pos[s.pos.length-1].y==t&&s.pos[s.pos.length-1].active&&(o=i)}),o},getOtherSideChessItemByPos:function(s,e,t){var o="black"==s?"red":"black",i=-1;return this.chess[o+"Item"].forEach(function(s,o){s.pos[s.pos.length-1].x==e&&s.pos[s.pos.length-1].y==t&&s.pos[s.pos.length-1].active&&(i=o)}),i},getChessItemAllColorByPos:function(s,e){var t=-1;return this.chess.blackItem.forEach(function(o,i){o.pos[o.pos.length-1].x==s&&o.pos[o.pos.length-1].y==e&&o.pos[o.pos.length-1].active&&(t=i)}),this.chess.redItem.forEach(function(o,i){o.pos[o.pos.length-1].x==s&&o.pos[o.pos.length-1].y==e&&o.pos[o.pos.length-1].active&&(t=i)}),t},getPaoChiPos:function(s,e,t){for(var o=this,i=[],c=0,l=e-1;l>=0;l--)if(0==c)o.getChessItemAllColorByPos(l,t)>=0&&c++;else if(1==c&&o.getChessItemAllColorByPos(l,t)>=0){o.getOtherSideChessItemByPos(s,l,t)>=0&&i.push({x:l,y:t});break}c=0;for(var n=e+1;n<=8;n++)if(0==c)o.getChessItemAllColorByPos(n,t)>=0&&c++;else if(1==c&&o.getChessItemAllColorByPos(n,t)>=0){o.getOtherSideChessItemByPos(s,n,t)>=0&&i.push({x:n,y:t});break}c=0;for(var a=t-1;a>=0;a--)if(0==c)o.getChessItemAllColorByPos(e,a)>=0&&c++;else if(1==c&&o.getChessItemAllColorByPos(e,a)>=0){o.getOtherSideChessItemByPos(s,e,a)>=0&&i.push({x:e,y:a});break}c=0;for(var h=t+1;h<=9;h++)if(0==c)o.getChessItemAllColorByPos(e,h)>=0&&c++;else if(1==c&&o.getChessItemAllColorByPos(e,h)>=0){o.getOtherSideChessItemByPos(s,e,h)>=0&&i.push({x:e,y:h});break}return console.log(i),i},getChessIndexByRecord:function(s,e){if("前"==e[0]||"后"==e[0]){var t=this.getChessesByName(s,e[1]),o="前"==e[0]?0:1;return this.filterChessByQH(s,t,o)}return this.getChessByNameX(s,e[0],this.chaXunX[e[1]])},filterChessByQH:function(s,e,t){var o=0,i=this.chess[s+"Item"][e[o]],c=this.chess[s+"Item"][e[o+1]];return"red"==s&&(o=~~!o),t&&(o=~~!o),i.pos[i.pos.length-1].y<c.pos[c.pos.length-1].y&&(o=~~!o),o},filterChessTwoInY:function(s){for(var e=this,t=[],o=function(o){e.chess[s+"Item"].forEach(function(s){var e=[];s.pos[s.pos.length-1].active&&s.pos[s.pos.length-1].y==o&&(~e.indexOf(s.message)?t.push(s.message):e.push(s.message))})},i=0;i<10;i++)o(i);return t},getAllChessNameByColor:function(s){var e=[];return this.chess[s+"Item"].forEach(function(s){s.pos[s.pos.length-1].active&&(~e.indexOf(s.message)||e.push(s.message))}),e}}},g={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return s.ifstart?t("div",{staticClass:"main"},[t("div",{staticClass:"top"},[t("ul",s._l(s.topItems,function(e){return t("li",[s._v("\n          "+s._s(e.message)+"\n        ")])}))]),s._v(" "),t("transition-group",{staticClass:"chess",attrs:{tag:"div",name:"animated"}},[s._l(s.chess.blackItem,function(e,o){return t("span",{directives:[{name:"show",rawName:"v-show",value:e.pos[e.pos.length-1].active,expression:"item.pos[item.pos.length-1].active"}],key:o,staticClass:"black",style:{left:50*e.pos[e.pos.length-1].x-25+"px",top:50*e.pos[e.pos.length-1].y+50+"px"}},[s._v("\n\t\t\t"+s._s(e.message)+"\n\t\t\t")])}),s._v(" "),s._l(s.chess.redItem,function(e,o){return t("span",{directives:[{name:"show",rawName:"v-show",value:e.pos[e.pos.length-1].active,expression:"item.pos[item.pos.length-1].active"}],key:o+20,staticClass:"red",style:{left:50*e.pos[e.pos.length-1].x-25+"px",top:50*e.pos[e.pos.length-1].y+50+"px"}},[s._v("\n\t\t\t"+s._s(e.message)+"\n\t\t  ")])})],2),s._v(" "),t("div",{staticClass:"bottom"},[t("ul",s._l(s.bottomItems,function(e){return t("li",[s._v("\n          "+s._s(e.message)+"\n        ")])}))]),s._v(" "),t("div",{staticClass:"message"},[s._v("\n      "+s._s(s.message[s.step%2])+"\n    ")]),s._v(" "),t("div",{staticClass:"select"},[t("ul",s._l(s.selectItems,function(e){return t("li",{directives:[{name:"show",rawName:"v-show",value:e.ifshow,expression:"item.ifshow"}],class:{notClick:e.notClick},on:{click:function(t){s.select(e.message,e.notClick)}}},[s._v("\n          "+s._s(e.message)+"\n        ")])}))]),s._v(" "),t("div",{staticClass:"back"},[t("ul",s._l(s.backItems,function(e){return t("li",{class:{notClick:e.notClick},style:{left:e.left+"px",top:e.top+"px",position:"absolute"},on:{click:function(t){s.back(e.num,e.notClick)}}},[s._v("\n          "+s._s(e.message)+"\n        ")])}))])],1):t("div",{staticClass:"mainElse"},s._l(s.dingItem,function(e,o){return t("span",{style:{backgroundColor:e.color},on:{click:function(e){s.ding(o)}}},[s._v("\n\t\t"+s._s(e.message)+"\n\t\t")])}))},staticRenderFns:[]};var f=t("VU/8")(y,g,!1,function(s){t("s2EQ")},null,null).exports;o.a.use(l.a);var p=new l.a({routes:[{path:"/",name:"chess",component:f}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:p,components:{App:c},template:"<App/>"})},s2EQ:function(s,e){},zLj7:function(s,e){}},["NHnr"]);
//# sourceMappingURL=app.ca33d953f439283c727a.js.map